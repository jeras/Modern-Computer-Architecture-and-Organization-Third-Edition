//////////////////////////////////////////////////////////////////////////////////
marker $$testing subtract-with-signed-underflow$$
//////////////////////////////////////////////////////////////////////////////////

// load memory and flush registers
memory load atari "${BINARY_PATH}"
registers flush

// show system state
disassemble #0x0600 0x10
registers show

// run program
run #0x0600 until CP=0x0605

// check results
registers show
assert A = 0x7f        $$expected subtraction result$$
assert S = 0b01110001  $$expected subtraction flags$$
